<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Link para utilizar o Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="valor.css">
    <title>Oferta de Valor</title>
</head>

<body>
    <nav>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <!--<a class="navbar-brand" href="#">Meta Saúde</a>-->
                <a class="navbar-brand" style="color: white;" href="principal.html">
                    <img src="img/icons8-coração-com-pulso-48.png" alt="Bootstrap" width="55" height="45">Meta Saúde
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>

        <ul class="breadcrumb">
            <li><a href="hospital.html">Home > </a></li>
            <li><a href="oferta.html">Ofertas > </a></li>
            <li><a href="dados.html">Dados do Paciente > </a></li>
            <li>Proposta</li>
        </ul>
        <!-- <header>
        <div class="topnav" id="myTopnav">
            <a href="#contato">Contato</a>
            <a href="#medicos">Médicos</a>
            <a href="#horarios">Horários</a>
            <a href="#usuarios" class="active">Usuários</a>
            <div class="brand"><a href="hospital.html">Meta Saúde</a></div>
        </div>
    </header>-->

        <h1>Oferta de Valor</h1>

        <form id="oferta-form">
            <div>
                <label for="valor">Valor:</label>
                <input type="text" id="valor" name="valor" oninput="formatarValor(this)" required>
            </div>

            <div>
                <label for="periodo">Período:</label>
                <input type="text" id="periodo" name="periodo">
            </div>

            <div>
                <label for="obs">Observações:</label>
                <textarea id="obs" name="obs"></textarea>
            </div>

            <div>

                <button id="btval" type="submit"><a href="valor.html?id=${pacienteId}" + pacienteId
                        id="oferta-link"></a>Enviar</a>
                    Oferta
                </button>

            </div>
        </form>

        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
        <!--<script src="user.js"></script>-->
        <script src="valor.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.6/jquery.inputmask.min.js"></script>


        <script>

            /*    const form = document.getElementById('oferta-form');
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const link = document.querySelector('#data-body a[href="dados.html?id=' + pacienteId + '"]');
                    if (link) {
                        link.textContent = "Oferta já feita";
                        link.classList.add("oferta-feita");
                    }
                });*/
            function formatarValor(input) {
                // Remove todos os caracteres não numéricos do valor
                const valorNumerico = input.value.replace(/\D/g, '');

                // Formata o valor para o formato monetário (real)
                const valorFormatado = (Number(valorNumerico) / 100).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

                // Atualiza o valor no campo de input
                input.value = valorFormatado;
            }
        </script>

</body>

</html>